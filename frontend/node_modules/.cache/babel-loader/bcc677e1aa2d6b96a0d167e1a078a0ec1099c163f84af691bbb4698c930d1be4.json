{"ast":null,"code":"var _jsxFileName = \"/Users/shwetamprajapati/Downloads/ecommerce/frontend/src/pages/ProductDetail.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Container, Typography, Grid, Box, Button, Card, CardContent, TextField, Rating, Divider, CircularProgress, Alert, Avatar, Chip } from '@mui/material';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport { useAuth } from '../context/AuthContext';\nimport { booksData } from '../data/booksData';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProductDetail = () => {\n  const {\n    id\n  } = useParams();\n  const [product, setProduct] = useState(null);\n  const [reviews, setReviews] = useState([]);\n  const [ratings, setRatings] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [newReview, setNewReview] = useState('');\n  const [newRating, setNewRating] = useState(0);\n  const [submitting, setSubmitting] = useState(false);\n  const {\n    isAuthenticated,\n    user\n  } = useAuth();\n  useEffect(() => {\n    fetchProductDetails();\n    fetchReviews();\n    fetchRatings();\n  }, [id]);\n  const fetchProductDetails = async () => {\n    try {\n      const response = await axios.get(`/api/products/products/id/${id}`);\n      setProduct(response.data);\n    } catch (err) {\n      console.error('Error fetching product:', err);\n      // Use enhanced book data as fallback\n      const book = booksData.find(b => b.id === parseInt(id));\n      if (book) {\n        setProduct(book);\n      } else {\n        setError('Product not found');\n      }\n    }\n  };\n  const fetchReviews = async () => {\n    try {\n      const response = await axios.get(`/api/reviews/product/${id}`);\n      setReviews(response.data);\n    } catch (err) {\n      console.error('Error fetching reviews:', err);\n      setReviews([]);\n    }\n  };\n  const fetchRatings = async () => {\n    try {\n      const response = await axios.get(`/api/ratings/product/${id}`);\n      setRatings(response.data);\n    } catch (err) {\n      console.error('Error fetching ratings:', err);\n      setRatings([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const getMockProduct = productId => {\n    const mockProducts = {\n      1: {\n        id: 1,\n        title: \"The Great Gatsby\",\n        author: \"F. Scott Fitzgerald\",\n        price: 299,\n        discountedPrice: 249,\n        imageUrl: \"https://via.placeholder.com/400x600?text=The+Great+Gatsby\",\n        description: \"The Great Gatsby is a 1925 novel by American writer F. Scott Fitzgerald. Set in the Jazz Age on prosperous Long Island and in New York City, the novel tells the first-person story of Nick Carraway, a young Yale graduate and World War I veteran from the Midwest who moves to Long Island in 1922, intending to work in the bond business.\",\n        publisher: \"Scribner\",\n        language: \"English\",\n        quantity: 50\n      },\n      2: {\n        id: 2,\n        title: \"To Kill a Mockingbird\",\n        author: \"Harper Lee\",\n        price: 399,\n        discountedPrice: 349,\n        imageUrl: \"https://via.placeholder.com/400x600?text=To+Kill+a+Mockingbird\",\n        description: \"To Kill a Mockingbird is a novel by Harper Lee published in 1960. It was immediately successful, winning the Pulitzer Prize, and has become a classic of modern American literature.\",\n        publisher: \"J.B. Lippincott & Co.\",\n        language: \"English\",\n        quantity: 30\n      }\n    };\n    return mockProducts[productId] || mockProducts[1];\n  };\n  const addToCart = async () => {\n    try {\n      await axios.put('/api/cart/add', {\n        productId: parseInt(id),\n        quantity: 1\n      });\n      alert('Product added to cart!');\n    } catch (err) {\n      console.error('Error adding to cart:', err);\n      alert('Failed to add product to cart');\n    }\n  };\n  const submitReview = async () => {\n    if (!newReview.trim()) {\n      alert('Please enter a review');\n      return;\n    }\n    setSubmitting(true);\n    try {\n      await axios.post('/api/reviews/create', {\n        productid: parseInt(id),\n        review: newReview\n      });\n      setNewReview('');\n      fetchReviews();\n      alert('Review submitted successfully!');\n    } catch (err) {\n      console.error('Error submitting review:', err);\n      alert('Failed to submit review');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n  const submitRating = async () => {\n    if (newRating === 0) {\n      alert('Please select a rating');\n      return;\n    }\n    setSubmitting(true);\n    try {\n      await axios.post('/api/ratings/create', {\n        productId: parseInt(id),\n        rating: newRating\n      });\n      setNewRating(0);\n      fetchRatings();\n      alert('Rating submitted successfully!');\n    } catch (err) {\n      console.error('Error submitting rating:', err);\n      alert('Failed to submit rating');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n  const averageRating = ratings.length > 0 ? ratings.reduce((sum, rating) => sum + rating.rating, 0) / ratings.length : 0;\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      minHeight: \"50vh\",\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this);\n  }\n  if (!product) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        children: \"Product not found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"lg\",\n    sx: {\n      py: 4\n    },\n    children: [error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 3\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 4,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          component: \"img\",\n          src: product.imageUrl || `https://via.placeholder.com/400x600?text=${product.title}`,\n          alt: product.title,\n          sx: {\n            width: '100%',\n            height: 'auto',\n            maxHeight: 600,\n            objectFit: 'cover',\n            borderRadius: 2\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          component: \"h1\",\n          gutterBottom: true,\n          children: product.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          color: \"text.secondary\",\n          gutterBottom: true,\n          children: [\"by \", product.author]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'center',\n            mb: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Rating, {\n            value: averageRating,\n            readOnly: true,\n            precision: 0.1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            sx: {\n              ml: 1\n            },\n            children: [\"(\", ratings.length, \" ratings)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: 2,\n            mb: 3\n          },\n          children: product.discountedPrice && product.discountedPrice < product.price ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              color: \"primary\",\n              children: [\"\\u20B9\", product.discountedPrice]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              sx: {\n                textDecoration: 'line-through',\n                color: 'text.secondary'\n              },\n              children: [\"\\u20B9\", product.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Chip, {\n              label: `${Math.round((product.price - product.discountedPrice) / product.price * 100)}% OFF`,\n              color: \"secondary\",\n              size: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h4\",\n            color: \"primary\",\n            children: [\"\\u20B9\", product.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mb: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            paragraph: true,\n            children: product.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this), product.publisher && /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"text.secondary\",\n            children: [\"Publisher: \", product.publisher]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 15\n          }, this), product.language && /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"text.secondary\",\n            children: [\"Language: \", product.language]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 15\n          }, this), product.quantity && /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"text.secondary\",\n            children: [\"In Stock: \", product.quantity, \" copies\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this), isAuthenticated && /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          size: \"large\",\n          onClick: addToCart,\n          sx: {\n            mb: 3\n          },\n          children: \"Add to Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {\n      sx: {\n        my: 4\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 4,\n      children: [isAuthenticated && /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              children: \"Write a Review\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              multiline: true,\n              rows: 4,\n              label: \"Your Review\",\n              value: newReview,\n              onChange: e => setNewReview(e.target.value),\n              sx: {\n                mb: 2\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              onClick: submitReview,\n              disabled: submitting,\n              sx: {\n                mb: 3\n              },\n              children: submitting ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 33\n              }, this) : 'Submit Review'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Divider, {\n              sx: {\n                my: 2\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              children: \"Rate this Book\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: 2,\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(Rating, {\n                value: newRating,\n                onChange: (event, newValue) => setNewRating(newValue)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                children: newRating > 0 ? `${newRating} star${newRating > 1 ? 's' : ''}` : 'Select rating'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              onClick: submitRating,\n              disabled: submitting,\n              children: submitting ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 33\n              }, this) : 'Submit Rating'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: isAuthenticated ? 6 : 12,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          gutterBottom: true,\n          children: [\"Customer Reviews (\", reviews.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this), reviews.length > 0 ? reviews.map((review, index) => {\n          var _review$user, _review$user$firstNam, _review$user2, _review$user3;\n          return /*#__PURE__*/_jsxDEV(Card, {\n            sx: {\n              mb: 2\n            },\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  mb: 1\n                },\n                children: [/*#__PURE__*/_jsxDEV(Avatar, {\n                  sx: {\n                    mr: 2\n                  },\n                  children: ((_review$user = review.user) === null || _review$user === void 0 ? void 0 : (_review$user$firstNam = _review$user.firstName) === null || _review$user$firstNam === void 0 ? void 0 : _review$user$firstNam.charAt(0)) || 'U'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"subtitle2\",\n                    children: [(_review$user2 = review.user) === null || _review$user2 === void 0 ? void 0 : _review$user2.firstName, \" \", (_review$user3 = review.user) === null || _review$user3 === void 0 ? void 0 : _review$user3.lastName]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 362,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"caption\",\n                    color: \"text.secondary\",\n                    children: new Date(review.createdAt).toLocaleDateString()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 365,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 361,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                children: review.review\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 17\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 15\n          }, this);\n        }) : /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"text.secondary\",\n          children: \"No reviews yet. Be the first to review this book!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 5\n  }, this);\n};\nexport default ProductDetail;","map":{"version":3,"names":["React","useState","useEffect","Container","Typography","Grid","Box","Button","Card","CardContent","TextField","Rating","Divider","CircularProgress","Alert","Avatar","Chip","useParams","axios","useAuth","booksData","jsxDEV","_jsxDEV","Fragment","_Fragment","ProductDetail","id","product","setProduct","reviews","setReviews","ratings","setRatings","loading","setLoading","error","setError","newReview","setNewReview","newRating","setNewRating","submitting","setSubmitting","isAuthenticated","user","fetchProductDetails","fetchReviews","fetchRatings","response","get","data","err","console","book","find","b","parseInt","getMockProduct","productId","mockProducts","title","author","price","discountedPrice","imageUrl","description","publisher","language","quantity","addToCart","put","alert","submitReview","trim","post","productid","review","submitRating","rating","averageRating","length","reduce","sum","display","justifyContent","alignItems","minHeight","children","fileName","_jsxFileName","lineNumber","columnNumber","severity","maxWidth","sx","py","mb","container","spacing","item","xs","md","component","src","alt","width","height","maxHeight","objectFit","borderRadius","variant","gutterBottom","color","value","readOnly","precision","ml","gap","textDecoration","label","Math","round","size","paragraph","onClick","my","fullWidth","multiline","rows","onChange","e","target","disabled","event","newValue","map","index","_review$user","_review$user$firstNam","_review$user2","_review$user3","mr","firstName","charAt","lastName","Date","createdAt","toLocaleDateString"],"sources":["/Users/shwetamprajapati/Downloads/ecommerce/frontend/src/pages/ProductDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Container,\n  Typography,\n  Grid,\n  Box,\n  Button,\n  Card,\n  CardContent,\n  TextField,\n  Rating,\n  Divider,\n  CircularProgress,\n  Alert,\n  Avatar,\n  Chip\n} from '@mui/material';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport { useAuth } from '../context/AuthContext';\nimport { booksData } from '../data/booksData';\n\nconst ProductDetail = () => {\n  const { id } = useParams();\n  const [product, setProduct] = useState(null);\n  const [reviews, setReviews] = useState([]);\n  const [ratings, setRatings] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [newReview, setNewReview] = useState('');\n  const [newRating, setNewRating] = useState(0);\n  const [submitting, setSubmitting] = useState(false);\n  const { isAuthenticated, user } = useAuth();\n\n  useEffect(() => {\n    fetchProductDetails();\n    fetchReviews();\n    fetchRatings();\n  }, [id]);\n\n  const fetchProductDetails = async () => {\n    try {\n      const response = await axios.get(`/api/products/products/id/${id}`);\n      setProduct(response.data);\n    } catch (err) {\n      console.error('Error fetching product:', err);\n      // Use enhanced book data as fallback\n      const book = booksData.find(b => b.id === parseInt(id));\n      if (book) {\n        setProduct(book);\n      } else {\n        setError('Product not found');\n      }\n    }\n  };\n\n  const fetchReviews = async () => {\n    try {\n      const response = await axios.get(`/api/reviews/product/${id}`);\n      setReviews(response.data);\n    } catch (err) {\n      console.error('Error fetching reviews:', err);\n      setReviews([]);\n    }\n  };\n\n  const fetchRatings = async () => {\n    try {\n      const response = await axios.get(`/api/ratings/product/${id}`);\n      setRatings(response.data);\n    } catch (err) {\n      console.error('Error fetching ratings:', err);\n      setRatings([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getMockProduct = (productId) => {\n    const mockProducts = {\n      1: {\n        id: 1,\n        title: \"The Great Gatsby\",\n        author: \"F. Scott Fitzgerald\",\n        price: 299,\n        discountedPrice: 249,\n        imageUrl: \"https://via.placeholder.com/400x600?text=The+Great+Gatsby\",\n        description: \"The Great Gatsby is a 1925 novel by American writer F. Scott Fitzgerald. Set in the Jazz Age on prosperous Long Island and in New York City, the novel tells the first-person story of Nick Carraway, a young Yale graduate and World War I veteran from the Midwest who moves to Long Island in 1922, intending to work in the bond business.\",\n        publisher: \"Scribner\",\n        language: \"English\",\n        quantity: 50\n      },\n      2: {\n        id: 2,\n        title: \"To Kill a Mockingbird\",\n        author: \"Harper Lee\",\n        price: 399,\n        discountedPrice: 349,\n        imageUrl: \"https://via.placeholder.com/400x600?text=To+Kill+a+Mockingbird\",\n        description: \"To Kill a Mockingbird is a novel by Harper Lee published in 1960. It was immediately successful, winning the Pulitzer Prize, and has become a classic of modern American literature.\",\n        publisher: \"J.B. Lippincott & Co.\",\n        language: \"English\",\n        quantity: 30\n      }\n    };\n    return mockProducts[productId] || mockProducts[1];\n  };\n\n  const addToCart = async () => {\n    try {\n      await axios.put('/api/cart/add', {\n        productId: parseInt(id),\n        quantity: 1\n      });\n      alert('Product added to cart!');\n    } catch (err) {\n      console.error('Error adding to cart:', err);\n      alert('Failed to add product to cart');\n    }\n  };\n\n  const submitReview = async () => {\n    if (!newReview.trim()) {\n      alert('Please enter a review');\n      return;\n    }\n\n    setSubmitting(true);\n    try {\n      await axios.post('/api/reviews/create', {\n        productid: parseInt(id),\n        review: newReview\n      });\n      setNewReview('');\n      fetchReviews();\n      alert('Review submitted successfully!');\n    } catch (err) {\n      console.error('Error submitting review:', err);\n      alert('Failed to submit review');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const submitRating = async () => {\n    if (newRating === 0) {\n      alert('Please select a rating');\n      return;\n    }\n\n    setSubmitting(true);\n    try {\n      await axios.post('/api/ratings/create', {\n        productId: parseInt(id),\n        rating: newRating\n      });\n      setNewRating(0);\n      fetchRatings();\n      alert('Rating submitted successfully!');\n    } catch (err) {\n      console.error('Error submitting rating:', err);\n      alert('Failed to submit rating');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const averageRating = ratings.length > 0 \n    ? ratings.reduce((sum, rating) => sum + rating.rating, 0) / ratings.length \n    : 0;\n\n  if (loading) {\n    return (\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"50vh\">\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  if (!product) {\n    return (\n      <Container>\n        <Alert severity=\"error\">Product not found</Alert>\n      </Container>\n    );\n  }\n\n  return (\n    <Container maxWidth=\"lg\" sx={{ py: 4 }}>\n      {error && (\n        <Alert severity=\"error\" sx={{ mb: 3 }}>\n          {error}\n        </Alert>\n      )}\n\n      <Grid container spacing={4}>\n        {/* Product Image */}\n        <Grid item xs={12} md={6}>\n          <Box\n            component=\"img\"\n            src={product.imageUrl || `https://via.placeholder.com/400x600?text=${product.title}`}\n            alt={product.title}\n            sx={{\n              width: '100%',\n              height: 'auto',\n              maxHeight: 600,\n              objectFit: 'cover',\n              borderRadius: 2\n            }}\n          />\n        </Grid>\n\n        {/* Product Details */}\n        <Grid item xs={12} md={6}>\n          <Typography variant=\"h4\" component=\"h1\" gutterBottom>\n            {product.title}\n          </Typography>\n          <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\n            by {product.author}\n          </Typography>\n          \n          {/* Rating Display */}\n          <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n            <Rating value={averageRating} readOnly precision={0.1} />\n            <Typography variant=\"body2\" sx={{ ml: 1 }}>\n              ({ratings.length} ratings)\n            </Typography>\n          </Box>\n\n          {/* Price */}\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 2, mb: 3 }}>\n            {product.discountedPrice && product.discountedPrice < product.price ? (\n              <>\n                <Typography variant=\"h4\" color=\"primary\">\n                  ₹{product.discountedPrice}\n                </Typography>\n                <Typography \n                  variant=\"h6\" \n                  sx={{ textDecoration: 'line-through', color: 'text.secondary' }}\n                >\n                  ₹{product.price}\n                </Typography>\n                <Chip \n                  label={`${Math.round(((product.price - product.discountedPrice) / product.price) * 100)}% OFF`} \n                  color=\"secondary\" \n                  size=\"small\"\n                />\n              </>\n            ) : (\n              <Typography variant=\"h4\" color=\"primary\">\n                ₹{product.price}\n              </Typography>\n            )}\n          </Box>\n\n          {/* Product Info */}\n          <Box sx={{ mb: 3 }}>\n            <Typography variant=\"body1\" paragraph>\n              {product.description}\n            </Typography>\n            {product.publisher && (\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                Publisher: {product.publisher}\n              </Typography>\n            )}\n            {product.language && (\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                Language: {product.language}\n              </Typography>\n            )}\n            {product.quantity && (\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                In Stock: {product.quantity} copies\n              </Typography>\n            )}\n          </Box>\n\n          {/* Add to Cart Button */}\n          {isAuthenticated && (\n            <Button\n              variant=\"contained\"\n              size=\"large\"\n              onClick={addToCart}\n              sx={{ mb: 3 }}\n            >\n              Add to Cart\n            </Button>\n          )}\n        </Grid>\n      </Grid>\n\n      <Divider sx={{ my: 4 }} />\n\n      {/* Reviews and Ratings Section */}\n      <Grid container spacing={4}>\n        {/* Submit Review/Rating */}\n        {isAuthenticated && (\n          <Grid item xs={12} md={6}>\n            <Card>\n              <CardContent>\n                <Typography variant=\"h6\" gutterBottom>\n                  Write a Review\n                </Typography>\n                <TextField\n                  fullWidth\n                  multiline\n                  rows={4}\n                  label=\"Your Review\"\n                  value={newReview}\n                  onChange={(e) => setNewReview(e.target.value)}\n                  sx={{ mb: 2 }}\n                />\n                <Button\n                  variant=\"contained\"\n                  onClick={submitReview}\n                  disabled={submitting}\n                  sx={{ mb: 3 }}\n                >\n                  {submitting ? <CircularProgress size={24} /> : 'Submit Review'}\n                </Button>\n\n                <Divider sx={{ my: 2 }} />\n\n                <Typography variant=\"h6\" gutterBottom>\n                  Rate this Book\n                </Typography>\n                <Box sx={{ display: 'flex', alignItems: 'center', gap: 2, mb: 2 }}>\n                  <Rating\n                    value={newRating}\n                    onChange={(event, newValue) => setNewRating(newValue)}\n                  />\n                  <Typography variant=\"body2\">\n                    {newRating > 0 ? `${newRating} star${newRating > 1 ? 's' : ''}` : 'Select rating'}\n                  </Typography>\n                </Box>\n                <Button\n                  variant=\"contained\"\n                  onClick={submitRating}\n                  disabled={submitting}\n                >\n                  {submitting ? <CircularProgress size={24} /> : 'Submit Rating'}\n                </Button>\n              </CardContent>\n            </Card>\n          </Grid>\n        )}\n\n        {/* Display Reviews */}\n        <Grid item xs={12} md={isAuthenticated ? 6 : 12}>\n          <Typography variant=\"h6\" gutterBottom>\n            Customer Reviews ({reviews.length})\n          </Typography>\n          {reviews.length > 0 ? (\n            reviews.map((review, index) => (\n              <Card key={index} sx={{ mb: 2 }}>\n                <CardContent>\n                  <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                    <Avatar sx={{ mr: 2 }}>\n                      {review.user?.firstName?.charAt(0) || 'U'}\n                    </Avatar>\n                    <Box>\n                      <Typography variant=\"subtitle2\">\n                        {review.user?.firstName} {review.user?.lastName}\n                      </Typography>\n                      <Typography variant=\"caption\" color=\"text.secondary\">\n                        {new Date(review.createdAt).toLocaleDateString()}\n                      </Typography>\n                    </Box>\n                  </Box>\n                  <Typography variant=\"body2\">\n                    {review.review}\n                  </Typography>\n                </CardContent>\n              </Card>\n            ))\n          ) : (\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              No reviews yet. Be the first to review this book!\n            </Typography>\n          )}\n        </Grid>\n      </Grid>\n    </Container>\n  );\n};\n\nexport default ProductDetail;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}